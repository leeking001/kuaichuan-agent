<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>快传号Agent版</title>
    <style>
        /* --- 1. 核心变量 (Material 3 风格) --- */
        :root {
            /* 浅色模式 */
            --bg-app: #F0F4F9;
            --bg-card: #FFFFFF;
            --text-primary: #1F1F1F;
            --text-secondary: #444746;
            --text-tertiary: #76777A;
            --primary: #0B57D0;
            --primary-bg: #D3E3FD;
            --outline: #E0E3E1;
            --surface-variant: #F0F4F9;
            --ai-highlight: #F2F8FF;
            --warning-text: #B3261E;
            --success: #1E8E3E;
            --header-height: 64px;
            --radius: 16px;
            --shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        [data-theme="dark"] {
            /* 深色模式 */
            --bg-app: #131314;
            --bg-card: #1E1F20;
            --text-primary: #E3E3E3;
            --text-secondary: #C4C7C5;
            --text-tertiary: #8E918F;
            --primary: #A8C7FA;
            --primary-bg: #0842A0;
            --outline: #444746;
            --surface-variant: #282A2C;
            --ai-highlight: #1F2225;
            --warning-text: #F2B8B5;
            --success: #81C995;
            --shadow: 0 2px 6px rgba(0,0,0,0.4);
        }

        /* --- 2. 全局重置 --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-app);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: background 0.3s, color 0.3s;
        }
        a { text-decoration: none; color: inherit; }
        .icon { width: 20px; height: 20px; fill: currentColor; vertical-align: middle; }

        /* --- 3. 新手引导 Tooltip --- */
        .help-icon {
            display: inline-flex; align-items: center; justify-content: center;
            width: 16px; height: 16px; border-radius: 50%;
            background: var(--outline); color: var(--text-secondary);
            font-size: 10px; cursor: help; margin-left: 6px;
            position: relative;
        }
        .help-icon:hover::after {
            content: attr(data-tip);
            position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: #fff; padding: 6px 10px;
            border-radius: 6px; font-size: 12px; white-space: pre-wrap; width: max-content; max-width: 220px;
            z-index: 100; pointer-events: none;
        }

        /* --- 4. 顶部导航 --- */
        .header {
            height: var(--header-height);
            background: var(--bg-card);
            border-bottom: 1px solid var(--outline);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 24px; flex-shrink: 0;
        }
        .logo { font-size: 18px; font-weight: 600; color: var(--text-primary); display: flex; align-items: center; gap: 10px; }
        .header-actions { display: flex; align-items: center; gap: 16px; }
        .btn-text { font-size: 14px; color: var(--text-secondary); padding: 6px 12px; border-radius: 8px; transition: background 0.2s; }
        .btn-text:hover { background: var(--surface-variant); color: var(--primary); }
        .theme-toggle { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-secondary); background: var(--surface-variant); }

        /* --- 5. 主布局 --- */
        .main-layout {
            flex: 1; padding: 20px;
            display: grid; grid-template-columns: 320px 1fr 320px;
            gap: 20px; overflow-y: auto;
        }

        /* 通用卡片 */
        .agent-card {
            background: var(--bg-card); border-radius: var(--radius);
            border: 1px solid var(--outline); display: flex; flex-direction: column;
            overflow: hidden; box-shadow: var(--shadow);
        }
        .agent-header {
            padding: 16px 20px; border-bottom: 1px solid var(--outline);
            font-weight: 600; font-size: 15px; display: flex; align-items: center; gap: 8px;
            background: var(--bg-card);
        }
        .agent-body { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 16px; }

        /* --- 模块 1: 每日播报 (回归维度+融合审核) --- */
        .report-item { border-bottom: 1px solid var(--outline); padding-bottom: 16px; }
        .report-item:last-child { border-bottom: none; padding-bottom: 0; }
        .report-title { font-size: 13px; color: var(--text-secondary); margin-bottom: 4px; display: flex; justify-content: space-between; }
        .report-val { font-size: 20px; font-weight: 700; }
        
        .ai-insight {
            margin-top: 8px; background: var(--ai-highlight); padding: 10px; border-radius: 8px;
            font-size: 12px; line-height: 1.5; color: var(--text-secondary); display: flex; gap: 8px;
        }
        .ai-icon { color: var(--primary); flex-shrink: 0; margin-top: 2px; }
        .audit-warning { color: var(--warning-text); font-weight: 500; margin-top: 4px; display: block; }

        /* 推荐列表 */
        .rec-list { display: flex; flex-direction: column; gap: 10px; border-top: 1px solid var(--outline); padding-top: 16px; }
        .rec-item { display: flex; gap: 10px; cursor: pointer; }
        .rec-tag { font-size: 10px; padding: 2px 6px; border-radius: 4px; height: fit-content; white-space: nowrap; }
        .tag-notice { background: #E3F2FD; color: #1565C0; }
        .tag-course { background: #F3E5F5; color: #7B1FA2; }
        .tag-activity { background: #E8F5E9; color: #2E7D32; }
        .rec-text { font-size: 13px; line-height: 1.4; color: var(--text-primary); }
        .rec-text:hover { color: var(--primary); text-decoration: underline; }

        /* --- 模块 2: 内容创作 (GUI 流程化) --- */
        /* 步骤容器 */
        .step-container { display: flex; flex-direction: column; height: 100%; justify-content: center; animation: fadeIn 0.3s; }
        
        /* Step 1: 选择体裁 */
        .type-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .type-card {
            border: 1px solid var(--outline); border-radius: 12px; padding: 24px;
            text-align: center; cursor: pointer; transition: all 0.2s; background: var(--surface-variant);
        }
        .type-card:hover { border-color: var(--primary); background: var(--bg-card); box-shadow: var(--shadow); }
        
        /* Step 2: 输入主题 */
        .input-gui { display: flex; flex-direction: column; gap: 16px; align-items: center; width: 100%; max-width: 400px; margin: 0 auto; }
        .gui-input {
            width: 100%; padding: 16px; border-radius: 12px; border: 1px solid var(--outline);
            background: var(--bg-card); color: var(--text-primary); font-size: 15px; outline: none;
        }
        .gui-input:focus { border-color: var(--primary); }
        .gui-btn {
            width: 100%; padding: 12px; border-radius: 24px; border: none;
            background: var(--primary); color: #fff; font-size: 14px; font-weight: 500; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .gui-btn:hover { opacity: 0.9; }
        .back-link { font-size: 13px; color: var(--text-secondary); cursor: pointer; margin-top: 10px; }

        /* Step 3: 预览与发布 */
        .preview-gui { display: flex; flex-direction: column; gap: 16px; height: 100%; }
        .preview-card {
            flex: 1; border: 1px solid var(--outline); border-radius: 12px; overflow: hidden;
            background: var(--bg-card); display: flex; flex-direction: column;
        }
        .preview-header { padding: 12px 16px; background: var(--surface-variant); font-weight: 600; font-size: 14px; border-bottom: 1px solid var(--outline); }
        .preview-content { padding: 20px; flex: 1; overflow-y: auto; font-size: 14px; line-height: 1.6; }
        .preview-media { height: 150px; background: #eee; border-radius: 8px; margin-bottom: 16px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); }
        
        /* Step 4: 成功 */
        .success-view { text-align: center; }
        .success-icon { width: 64px; height: 64px; color: var(--success); margin-bottom: 16px; }

        /* --- 模块 3: 认证/账号 --- */
        /* 状态A: 认证助手 */
        .auth-view { text-align: center; padding: 20px 0; }
        .upload-box {
            border: 2px dashed var(--outline); border-radius: 12px; padding: 30px 20px;
            margin: 20px 0; cursor: pointer; color: var(--text-secondary);
        }
        .upload-box:hover { border-color: var(--primary); color: var(--primary); }
        
        /* 状态B: 账号中心 (无Header) */
        .account-view { display: none; flex-direction: column; gap: 16px; height: 100%; }
        .profile-card { display: flex; align-items: center; gap: 16px; }
        .profile-img { width: 60px; height: 60px; border-radius: 50%; background: #ccc; }
        .health-score-box {
            background: var(--surface-variant); padding: 16px; border-radius: 12px;
            text-align: center; display: flex; justify-content: space-around;
        }
        .score-val { font-size: 24px; font-weight: 700; color: var(--success); }

        /* --- 模块 4: 客服 --- */
        .preset-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
        .tag-chip { font-size: 12px; padding: 6px 12px; border-radius: 16px; background: var(--surface-variant); color: var(--text-secondary); cursor: pointer; }
        .tag-chip:hover { background: var(--primary-bg); color: var(--primary); }
        .cs-chat-box { flex: 1; overflow-y: auto; margin-bottom: 10px; display: flex; flex-direction: column; gap: 10px; font-size: 13px; }
        .cs-msg { padding: 8px 12px; border-radius: 8px; max-width: 85%; }
        .cs-msg.sys { background: var(--surface-variant); align-self: flex-start; }
        .cs-msg.me { background: var(--primary-bg); color: var(--primary); align-self: flex-end; }

        /* 动画 */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 1024px) { .main-layout { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <!-- 顶部导航 -->
    <header class="header">
        <div class="logo">
            <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M11 21h-1l1-7H7.5c-.58 0-.57-.32-.29-.62L10.5 5.8c.19-.3.49-.8 1.07-.8h1l-1 7h3.5c.58 0 .57.32.29.62L11.5 20.2c-.19.3-.49.8-1.07.8z"/></svg>
            快传号Agent版
        </div>
        <div class="header-actions">
            <a href="https://kuaichuan.360kuai.com" target="_blank" class="btn-text">
                <svg class="icon" style="width:16px;height:16px;margin-right:4px;" viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                返回旧版
            </a>
            <div class="theme-toggle" onclick="toggleTheme()" title="切换主题">
                <svg class="icon" id="themeIcon" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
            </div>
            <div style="width: 32px; height: 32px; background: #ccc; border-radius: 50%; overflow: hidden;">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" width="32">
            </div>
        </div>
    </header>

    <!-- 主布局 -->
    <div class="main-layout">

        <!-- 1. 每日播报 Agent -->
        <div class="agent-card">
            <div class="agent-header">
                <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                每日播报 Agent
                <span class="help-icon" data-tip="每日8:00更新昨日数据与AI建议">?</span>
            </div>
            <div class="agent-body">
                <!-- 内容维度 (含审核建议) -->
                <div class="report-item">
                    <div class="report-title">内容表现 <span style="color:var(--success)">▲ 12%</span></div>
                    <div class="report-val">12.5k <span style="font-size:12px;font-weight:400;color:var(--text-secondary)">阅读</span></div>
                    <div class="ai-insight">
                        <svg class="icon ai-icon" viewBox="0 0 24 24"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg>
                        <div>
                            AI分析：科技类文章完播率高。
                            <span class="audit-warning">⚠️ 审核建议：昨日视频疑似包含夸大词汇，建议修改。</span>
                        </div>
                    </div>
                </div>
                <!-- 粉丝维度 -->
                <div class="report-item">
                    <div class="report-title">粉丝增长 <span style="color:var(--success)">▲ 5%</span></div>
                    <div class="report-val">+892 <span style="font-size:12px;font-weight:400;color:var(--text-secondary)">新增</span></div>
                </div>
                <!-- 收益维度 -->
                <div class="report-item">
                    <div class="report-title">昨日收益</div>
                    <div class="report-val">¥ 320.5</div>
                </div>

                <!-- 推荐列表 -->
                <div class="rec-list">
                    <div style="font-size:12px; font-weight:600; color:var(--text-secondary);">情报推荐</div>
                    <div class="rec-item">
                        <span class="rec-tag tag-notice">公告</span>
                        <div class="rec-text">快传号关于打击低质内容的最新规范</div>
                    </div>
                    <div class="rec-item">
                        <span class="rec-tag tag-course">课程</span>
                        <div class="rec-text">新手必看：如何写出10w+爆款标题</div>
                    </div>
                    <div class="rec-item">
                        <span class="rec-tag tag-activity">活动</span>
                        <div class="rec-text">参与“夏日Vlog挑战”，瓜分百万流量</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. 内容创作 Agent (GUI 流程化) -->
        <div class="agent-card">
            <div class="agent-header">
                <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                内容创作 Agent
                <span class="help-icon" data-tip="AI辅助生成图文或视频，支持一键发布">?</span>
            </div>
            <div class="agent-body" style="padding: 0;">
                
                <!-- Step 1: 选择体裁 -->
                <div id="step1" class="step-container" style="padding: 40px;">
                    <div style="text-align:center; margin-bottom:30px;">
                        <h3 style="margin-bottom:8px;">开始新的创作</h3>
                        <p style="font-size:13px; color:var(--text-secondary);">选择体裁，AI 帮您从灵感到发布</p>
                    </div>
                    <div class="type-grid">
                        <div class="type-card" onclick="goToStep2('article')">
                            <svg class="icon" style="width:40px;height:40px;color:var(--primary);margin-bottom:10px;" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                            <div style="font-weight:600;">图文创作</div>
                            <div style="font-size:12px; color:var(--text-secondary); margin-top:4px;">文章、资讯</div>
                        </div>
                        <div class="type-card" onclick="goToStep2('video')">
                            <svg class="icon" style="width:40px;height:40px;color:var(--primary);margin-bottom:10px;" viewBox="0 0 24 24"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></svg>
                            <div style="font-weight:600;">视频创作</div>
                            <div style="font-size:12px; color:var(--text-secondary); margin-top:4px;">短视频、混剪</div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: 输入主题 -->
                <div id="step2" class="step-container" style="display: none; padding: 40px;">
                    <div class="input-gui">
                        <div style="text-align:center;">
                            <h3 id="step2Title">输入图文主题</h3>
                            <p style="font-size:13px; color:var(--text-secondary); margin-top:4px;">AI 将为您生成大纲和正文</p>
                        </div>
                        <input type="text" class="gui-input" id="topicInput" placeholder="例如：2024年AI手机发展趋势...">
                        <button class="gui-btn" onclick="goToStep3()">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"/></svg>
                            开始生成
                        </button>
                        <div class="back-link" onclick="backToStep1()">返回上一步</div>
                    </div>
                </div>

                <!-- Step 3: 预览与发布 -->
                <div id="step3" class="step-container" style="display: none; padding: 20px;">
                    <div class="preview-gui">
                        <div class="preview-card">
                            <div class="preview-header">
                                <span id="previewType">图文预览</span>
                                <span style="font-weight:400; font-size:12px; color:var(--text-secondary); float:right;">AI 生成中...</span>
                            </div>
                            <div class="preview-content" id="previewContent">
                                <div style="text-align:center; padding-top:40px; color:var(--text-secondary);">
                                    <svg class="icon" style="width:32px;height:32px;animation:spin 1s infinite linear;" viewBox="0 0 24 24"><path d="M12 4V2C6.48 2 2 6.48 2 12h2c0-4.41 3.59-8 8-8zm0 14c-4.41 0-8-3.59-8-8H2c0 5.52 4.48 10 10 10v-2zm8-6h2c0-5.52-4.48-10-10-10v2c4.41 0 8 3.59 8 8zm-2 0c0 3.31-2.69 6-6 6v2c4.42 0 8-3.58 8-8h-2z"/></svg>
                                    <div style="margin-top:10px;">正在思考并生成内容...</div>
                                </div>
                            </div>
                        </div>
                        <div style="display:flex; gap:10px;">
                            <button class="gui-btn" style="background:var(--surface-variant); color:var(--text-primary);" onclick="backToStep1()">取消</button>
                            <button class="gui-btn" id="publishBtn" onclick="goToStep4()" disabled>发布内容</button>
                        </div>
                    </div>
                </div>

                <!-- Step 4: 成功 -->
                <div id="step4" class="step-container" style="display: none; padding: 40px;">
                    <div class="success-view">
                        <svg class="success-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        <h3>发布成功！</h3>
                        <p style="font-size:13px; color:var(--text-secondary); margin-top:8px;">您的内容已提交审核，即将进入推荐池。</p>
                        <button class="gui-btn" style="margin-top:24px; width:auto; padding:10px 30px;" onclick="backToStep1()">继续创作</button>
                    </div>
                </div>

            </div>
        </div>

        <!-- 右侧栏 -->
        <div style="display: flex; flex-direction: column; gap: 20px;">
            
            <!-- 3. 认证/账号 (变形模块) -->
            <div class="agent-card" id="authCard">
                <!-- 状态A: 认证助手 -->
                <div class="agent-header" id="authHeader">
                    <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
                    认证助手 Agent
                    <span class="help-icon" data-tip="上传材料完成实名认证，解锁更多权益">?</span>
                </div>
                <div class="agent-body" id="authBody">
                    <div class="auth-view">
                        <div style="font-size:14px;">请上传身份证及资质证明</div>
                        <div class="upload-box" onclick="uploadMaterial()">
                            <svg class="icon" style="width:32px;height:32px;margin-bottom:8px;" viewBox="0 0 24 24"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>
                            <div id="uploadText">点击上传材料</div>
                        </div>
                        <div style="font-size:12px; color:var(--text-tertiary);">支持 JPG, PNG, PDF</div>
                    </div>
                </div>

                <!-- 状态B: 账号中心 (认证后显示，无Agent标题) -->
                <div class="agent-body" id="accountBody" style="display: none;">
                    <div class="profile-card">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="profile-img">
                        <div>
                            <div style="font-weight:600; font-size:16px;">科技观察者</div>
                            <div style="font-size:12px; color:var(--success); background:rgba(30,142,62,0.1); padding:2px 6px; border-radius:4px; display:inline-block; margin-top:4px;">已实名认证</div>
                        </div>
                    </div>
                    
                    <!-- 账号健康度 (从左侧移来) -->
                    <div class="health-score-box">
                        <div>
                            <div class="score-val">98</div>
                            <div style="font-size:12px; color:var(--text-secondary);">健康分</div>
                        </div>
                        <div>
                            <div class="score-val" style="color:var(--primary);">LV.5</div>
                            <div style="font-size:12px; color:var(--text-secondary);">等级</div>
                        </div>
                    </div>
                    <div style="font-size:12px; color:var(--text-secondary); line-height:1.4;">
                        账号状态良好，已获得“优质创作者”流量扶持。
                    </div>
                </div>
            </div>

            <!-- 4. 客服助手 Agent -->
            <div class="agent-card" style="flex: 1;">
                <div class="agent-header">
                    <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M21 12.22C21 6.73 16.96 3 12 3 7.03 3 3 6.73 3 12.22c0 5.07 3.57 8.64 8 9.65v-2.1c-3.13-.93-5-3.66-5-6.77 0-3.87 3.13-7 7-7s7 3.13 7 7c0 3.11-1.87 5.84-5 6.77v2.1c4.43-1.01 8-4.58 8-9.65zM12 13c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm1 4h-2v4h2v-4z"/></svg>
                    客服助手 Agent
                    <span class="help-icon" data-tip="7x24小时智能问答，解决平台使用问题">?</span>
                </div>
                <div class="agent-body">
                    <div class="preset-tags">
                        <div class="tag-chip" onclick="askPreset('如何提现？')">如何提现</div>
                        <div class="tag-chip" onclick="askPreset('审核规范')">审核规范</div>
                        <div class="tag-chip" onclick="askPreset('流量机制')">流量机制</div>
                    </div>
                    <div class="cs-chat-box" id="csChat">
                        <div class="cs-msg sys">您好，我是智能客服。请问有什么可以帮您？</div>
                    </div>
                    <div style="display:flex; gap:8px;">
                        <input type="text" id="csInput" style="flex:1; padding:8px; border-radius:8px; border:1px solid var(--outline); background:var(--bg-card); color:var(--text-primary);" placeholder="输入问题...">
                        <button onclick="sendCs()" style="border:none; background:transparent; color:var(--primary); cursor:pointer;">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. 主题切换 ---
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            const next = current === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', next);
            
            const icon = document.getElementById('themeIcon');
            if(next === 'dark') {
                icon.innerHTML = '<path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.93c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l1.41-1.41zm13.42 13.42c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l1.41-1.41zM5.99 19.07c-.39-.39-1.02-.39-1.41 0l-1.41 1.41c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l1.41-1.41c.39-.39.39-1.02 0-1.41zM19.07 5.99c.39-.39.39-1.02 0-1.41l-1.41-1.41c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41c.39.39 1.02.39 1.41 0z"/>';
            } else {
                icon.innerHTML = '<path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>';
            }
        }

        // --- 2. 创作 Agent (GUI 流程) ---
        let currentType = '';

        function goToStep2(type) {
            currentType = type;
            document.getElementById('step1').style.display = 'none';
            document.getElementById('step2').style.display = 'flex';
            document.getElementById('step2Title').innerText = `输入${type === 'article' ? '图文' : '视频'}主题`;
        }

        function backToStep1() {
            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'none';
            document.getElementById('step4').style.display = 'none';
            document.getElementById('step1').style.display = 'flex';
            document.getElementById('topicInput').value = '';
        }

        function goToStep3() {
            const topic = document.getElementById('topicInput').value.trim();
            if(!topic) return;

            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'flex';
            document.getElementById('previewType').innerText = `${currentType === 'article' ? '图文' : '视频'}预览`;
            
            // 模拟生成过程
            const content = document.getElementById('previewContent');
            content.innerHTML = `
                <div style="text-align:center; padding-top:40px; color:var(--text-secondary);">
                    <svg class="icon" style="width:32px;height:32px;animation:spin 1s infinite linear;" viewBox="0 0 24 24"><path d="M12 4V2C6.48 2 2 6.48 2 12h2c0-4.41 3.59-8 8-8zm0 14c-4.41 0-8-3.59-8-8H2c0 5.52 4.48 10 10 10v-2zm8-6h2c0-5.52-4.48-10-10-10v2c4.41 0 8 3.59 8 8zm-2 0c0 3.31-2.69 6-6 6v2c4.42 0 8-3.58 8-8h-2z"/></svg>
                    <div style="margin-top:10px;">AI 正在生成${currentType === 'article' ? '大纲与正文' : '脚本与画面'}...</div>
                </div>
            `;

            setTimeout(() => {
                const mediaIcon = currentType === 'article' 
                    ? '<svg class="icon" style="width:40px;height:40px;" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>'
                    : '<svg class="icon" style="width:40px;height:40px;" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>';
                
                content.innerHTML = `
                    <div class="preview-media">${mediaIcon}</div>
                    <h3>${topic}</h3>
                    <p style="margin-top:10px; color:var(--text-secondary);">
                        ${currentType === 'article' ? '这里是AI生成的文章摘要，包含核心观点、数据分析以及行业趋势预测...' : '这里是AI生成的视频脚本，包含分镜描述：[镜头1] 全景展示... [镜头2] 特写...'}
                    </p>
                `;
                document.getElementById('publishBtn').disabled = false;
            }, 1500);
        }

        function goToStep4() {
            document.getElementById('step3').style.display = 'none';
            document.getElementById('step4').style.display = 'flex';
        }

        // --- 3. 认证 -> 账号变形逻辑 ---
        function uploadMaterial() {
            const txt = document.getElementById('uploadText');
            txt.innerText = "正在上传并识别...";
            
            setTimeout(() => {
                txt.innerText = "识别成功，提交审核...";
                setTimeout(() => {
                    // 隐藏认证界面，显示账号界面
                    document.getElementById('authHeader').style.display = 'none'; // 隐藏标题
                    document.getElementById('authBody').style.display = 'none';
                    document.getElementById('accountBody').style.display = 'flex';
                }, 1500);
            }, 1500);
        }

        // --- 4. 客服逻辑 ---
        function askPreset(q) {
            document.getElementById('csInput').value = q;
            sendCs();
        }

        function sendCs() {
            const input = document.getElementById('csInput');
            const val = input.value.trim();
            if(!val) return;

            const chat = document.getElementById('csChat');
            chat.innerHTML += `<div class="cs-msg me">${val}</div>`;
            input.value = '';
            chat.scrollTop = chat.scrollHeight;

            setTimeout(() => {
                chat.innerHTML += `<div class="cs-msg sys">收到，Agent正在为您查询相关信息...</div>`;
                chat.scrollTop = chat.scrollHeight;
            }, 800);
        }
    </script>
</body>
</html>
