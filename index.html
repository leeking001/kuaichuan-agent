<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>快传号Agent版</title>
    <style>
        /* --- 1. 核心变量 (Google Material 3 风格) --- */
        :root {
            /* 浅色模式 (默认) */
            --bg-app: #F0F4F9;
            --bg-card: #FFFFFF;
            --text-primary: #1F1F1F;
            --text-secondary: #444746;
            --primary: #0B57D0;
            --primary-container: #D3E3FD;
            --on-primary-container: #041E49;
            --outline: #E0E3E1;
            --surface-variant: #F0F4F9;
            
            --shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --radius: 16px;
            --header-height: 60px;
        }

        /* 深色模式 (自动跟随系统) */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-app: #131314;
                --bg-card: #1E1F20;
                --text-primary: #E3E3E3;
                --text-secondary: #C4C7C5;
                --primary: #A8C7FA;
                --primary-container: #0842A0;
                --on-primary-container: #D3E3FD;
                --outline: #444746;
                --surface-variant: #282A2C;
            }
        }

        /* --- 2. 全局重置 --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: system-ui, -apple-system, Roboto, "Helvetica Neue", sans-serif;
            background-color: var(--bg-app);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- 3. 顶部导航 --- */
        .header {
            height: var(--header-height);
            background: var(--bg-card);
            border-bottom: 1px solid var(--outline);
            display: flex;
            align-items: center;
            padding: 0 24px;
            justify-content: space-between;
            flex-shrink: 0;
        }
        .logo {
            font-size: 18px; font-weight: 600; color: var(--text-primary);
            display: flex; align-items: center; gap: 10px;
        }
        .logo svg { color: var(--primary); }

        /* --- 4. 主布局 (Bento Grid) --- */
        .main-layout {
            flex: 1;
            padding: 20px;
            display: grid;
            grid-template-columns: 300px 1fr 320px; /* 经典三栏布局 */
            gap: 20px;
            overflow-y: auto; /* 允许整体滚动 */
            min-height: 0;
        }

        /* 通用卡片样式 */
        .agent-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            border: 1px solid var(--outline);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.2s;
        }
        .agent-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--outline);
            font-weight: 600;
            font-size: 15px;
            display: flex; align-items: center; gap: 8px;
            background: var(--bg-card);
        }
        .agent-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        /* --- 模块 1: 每日播报 Agent (左侧) --- */
        .report-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }
        .metric-box {
            background: var(--surface-variant);
            padding: 12px;
            border-radius: 12px;
            text-align: center;
        }
        .metric-val { font-size: 20px; font-weight: 700; margin-bottom: 4px; }
        .metric-label { font-size: 12px; color: var(--text-secondary); }
        .trend { font-size: 11px; display: flex; align-items: center; justify-content: center; gap: 2px; margin-top: 4px; }
        .trend.up { color: #1E8E3E; }

        .suggestion-list { display: flex; flex-direction: column; gap: 10px; }
        .suggestion-item {
            padding: 12px;
            border: 1px solid var(--outline);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .suggestion-item:hover { background: var(--surface-variant); border-color: var(--primary); }
        .sug-tag { font-size: 10px; color: var(--primary); background: var(--primary-container); padding: 2px 6px; border-radius: 4px; margin-bottom: 4px; display: inline-block; }
        .sug-text { font-size: 13px; line-height: 1.4; }

        /* --- 模块 2: 内容创作 Agent (中间 C位) --- */
        .creator-container {
            display: flex; flex-direction: column; height: 100%;
        }
        .chat-window {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex; flex-direction: column; gap: 20px;
            background: var(--surface-variant); /* 稍微区分背景 */
        }
        
        /* 消息气泡 */
        .msg { display: flex; gap: 12px; max-width: 90%; animation: fadeIn 0.3s; }
        .msg.user { align-self: flex-end; flex-direction: row-reverse; }
        .avatar {
            width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
            background: var(--bg-card); border: 1px solid var(--outline);
        }
        .msg.ai .avatar { color: var(--primary); }
        .bubble {
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 15px;
            line-height: 1.6;
            background: var(--bg-card);
            box-shadow: var(--shadow);
        }
        .msg.user .bubble {
            background: var(--primary);
            color: #fff;
            border-bottom-right-radius: 4px;
        }
        .msg.ai .bubble { border-top-left-radius: 4px; }

        /* 生成结果卡片 */
        .result-card {
            margin-top: 10px;
            border: 1px solid var(--outline);
            border-radius: 12px;
            overflow: hidden;
            background: var(--bg-card);
        }
        .result-preview {
            height: 150px;
            background: #000;
            display: flex; align-items: center; justify-content: center;
            color: #fff;
        }
        .result-preview.article { background: #E0E3E1; color: var(--text-secondary); }
        .result-content { padding: 12px; }
        .result-actions { display: flex; gap: 8px; margin-top: 12px; }

        /* 输入区 */
        .input-area {
            padding: 16px;
            background: var(--bg-card);
            border-top: 1px solid var(--outline);
            display: flex; gap: 12px;
        }
        .mode-select {
            padding: 0 12px; border-radius: 8px; border: 1px solid var(--outline);
            background: transparent; color: var(--text-primary); font-size: 13px;
        }
        .main-input {
            flex: 1; padding: 10px 16px; border-radius: 24px; border: 1px solid var(--outline);
            background: var(--surface-variant); color: var(--text-primary); outline: none;
        }
        .main-input:focus { border-color: var(--primary); background: var(--bg-card); }
        .send-btn {
            width: 40px; height: 40px; border-radius: 50%; border: none;
            background: var(--primary); color: #fff; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }

        /* --- 模块 3: 作者认证 Agent (右侧上) --- */
        .auth-status-box {
            text-align: center; padding: 20px 0;
        }
        .auth-icon-lg {
            width: 60px; height: 60px; margin: 0 auto 12px;
            border-radius: 50%; background: var(--surface-variant);
            display: flex; align-items: center; justify-content: center;
            color: var(--text-secondary); transition: all 0.5s;
        }
        .auth-icon-lg.verified { background: #E6F4EA; color: #1E8E3E; }
        
        .btn-primary {
            width: 100%; padding: 10px; border-radius: 20px; border: none;
            background: var(--primary); color: #fff; font-weight: 500; cursor: pointer;
            margin-top: 16px;
        }
        .btn-primary:disabled { background: var(--outline); cursor: not-allowed; }

        /* --- 模块 4: 客服助手 Agent (右侧下) --- */
        .cs-chat-list {
            flex: 1; overflow-y: auto; font-size: 13px;
            display: flex; flex-direction: column; gap: 10px;
            margin-bottom: 10px;
        }
        .cs-msg { padding: 8px 12px; border-radius: 8px; max-width: 90%; }
        .cs-msg.sys { background: var(--surface-variant); align-self: flex-start; }
        .cs-msg.me { background: var(--primary-container); color: var(--on-primary-container); align-self: flex-end; }
        
        .cs-input-row { display: flex; gap: 8px; }
        .cs-input {
            flex: 1; padding: 6px 10px; border-radius: 8px; border: 1px solid var(--outline);
            background: var(--bg-card); color: var(--text-primary);
        }

        /* --- 响应式适配 --- */
        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr; /* 移动端单栏 */
                grid-template-rows: auto auto auto auto;
            }
            /* 调整顺序：播报 -> 创作 -> 认证 -> 客服 */
            .agent-card:nth-child(1) { order: 1; } /* 播报 */
            .agent-card:nth-child(2) { order: 2; min-height: 500px; } /* 创作 */
            .agent-card:nth-child(3) { order: 3; } /* 认证 */
            .agent-card:nth-child(4) { order: 4; min-height: 300px; } /* 客服 */
        }

        /* 动画 */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* SVG Icons */
        .icon { width: 20px; height: 20px; fill: currentColor; }
    </style>
</head>
<body>

    <!-- 顶部 -->
    <header class="header">
        <div class="logo">
            <svg class="icon" viewBox="0 0 24 24"><path d="M11 21h-1l1-7H7.5c-.58 0-.57-.32-.29-.62L10.5 5.8c.19-.3.49-.8 1.07-.8h1l-1 7h3.5c.58 0 .57.32.29.62L11.5 20.2c-.19.3-.49.8-1.07.8z"/></svg>
            快传号Agent版
        </div>
        <div style="display: flex; gap: 16px; align-items: center;">
            <div style="width: 32px; height: 32px; background: var(--outline); border-radius: 50%; overflow: hidden;">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" width="32">
            </div>
        </div>
    </header>

    <!-- 主布局 -->
    <div class="main-layout">

        <!-- 1. 每日播报 Agent -->
        <div class="agent-card">
            <div class="agent-header">
                <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                每日播报 Agent
            </div>
            <div class="agent-body">
                <div class="report-metrics">
                    <div class="metric-box">
                        <div class="metric-val">12.5k</div>
                        <div class="metric-label">昨日阅读</div>
                        <div class="trend up">▲ 12%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-val">¥320</div>
                        <div class="metric-label">预估收益</div>
                        <div class="trend up">▲ 5%</div>
                    </div>
                </div>
                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 8px;">今日建议 (点击执行):</div>
                <div class="suggestion-list">
                    <div class="suggestion-item" onclick="triggerCreator('article', 'AI手机发展趋势')">
                        <span class="sug-tag">热点</span>
                        <div class="sug-text">生成“AI手机”深度解析文章</div>
                    </div>
                    <div class="suggestion-item" onclick="triggerCreator('video', '数码开箱挑战')">
                        <span class="sug-tag">活动</span>
                        <div class="sug-text">参与“数码开箱”视频挑战</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. 内容创作 Agent (核心) -->
        <div class="agent-card">
            <div class="agent-header">
                <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                内容创作 Agent
            </div>
            <div class="agent-body" style="padding: 0;">
                <div class="chat-window" id="chatWindow">
                    <div class="msg ai">
                        <div class="avatar"><svg class="icon" viewBox="0 0 24 24"><path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"/></svg></div>
                        <div class="bubble">我是您的创作助手。请选择模式并输入主题，我将为您生成内容。</div>
                    </div>
                </div>
                <div class="input-area">
                    <select class="mode-select" id="createMode">
                        <option value="article">图文</option>
                        <option value="video">视频</option>
                    </select>
                    <input type="text" class="main-input" id="createInput" placeholder="输入创作主题..." onkeypress="handleEnter(event)">
                    <button class="send-btn" onclick="startCreation()">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 右侧栏容器 -->
        <div style="display: flex; flex-direction: column; gap: 20px;">
            
            <!-- 3. 作者认证 Agent -->
            <div class="agent-card">
                <div class="agent-header">
                    <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
                    作者认证 Agent
                </div>
                <div class="agent-body">
                    <div class="auth-status-box">
                        <div class="auth-icon-lg" id="authIcon">
                            <svg class="icon" style="width:32px;height:32px;" viewBox="0 0 24 24"><path d="M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM9 4h6v3H9V4zm11 15H4V9h16v10zm-9-8h2v2h-2zm0 4h2v2h-2z"/></svg>
                        </div>
                        <h3 id="authTitle">未认证</h3>
                        <p style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">认证后解锁收益提现</p>
                        <button class="btn-primary" id="authBtn" onclick="processAuth()">开始身份认证</button>
                    </div>
                </div>
            </div>

            <!-- 4. 客服助手 Agent -->
            <div class="agent-card" style="flex: 1;">
                <div class="agent-header">
                    <svg class="icon" style="color: var(--primary);" viewBox="0 0 24 24"><path d="M21 12.22C21 6.73 16.96 3 12 3 7.03 3 3 6.73 3 12.22c0 5.07 3.57 8.64 8 9.65v-2.1c-3.13-.93-5-3.66-5-6.77 0-3.87 3.13-7 7-7s7 3.13 7 7c0 3.11-1.87 5.84-5 6.77v2.1c4.43-1.01 8-4.58 8-9.65zM12 13c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm1 4h-2v4h2v-4z"/></svg>
                    客服助手 Agent
                </div>
                <div class="agent-body">
                    <div class="cs-chat-list" id="csList">
                        <div class="cs-msg sys">您好，我是智能客服。</div>
                    </div>
                    <div class="cs-input-row">
                        <input type="text" class="cs-input" id="csInput" placeholder="提问...">
                        <button onclick="sendCs()" style="border:none; background:transparent; color:var(--primary); cursor:pointer;">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. 每日播报联动逻辑 ---
        function triggerCreator(mode, topic) {
            // 1. 设置模式
            const select = document.getElementById('createMode');
            select.value = mode;
            
            // 2. 填入内容
            const input = document.getElementById('createInput');
            input.value = topic;
            
            // 3. 视觉反馈：高亮输入框
            input.focus();
            input.style.borderColor = 'var(--primary)';
            setTimeout(() => input.style.borderColor = 'var(--outline)', 1000);
            
            // 4. 自动触发
            startCreation();
        }

        // --- 2. 内容创作逻辑 (完整模拟) ---
        function handleEnter(e) {
            if(e.key === 'Enter') startCreation();
        }

        function startCreation() {
            const input = document.getElementById('createInput');
            const topic = input.value.trim();
            const mode = document.getElementById('createMode').value;
            if(!topic) return;

            const chat = document.getElementById('chatWindow');

            // 用户消息
            chat.innerHTML += `
                <div class="msg user">
                    <div class="avatar"><svg class="icon" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg></div>
                    <div class="bubble">${topic}</div>
                </div>
            `;
            input.value = '';
            chat.scrollTop = chat.scrollHeight;

            // AI 思考中
            const loadingId = 'loading-' + Date.now();
            chat.innerHTML += `
                <div class="msg ai" id="${loadingId}">
                    <div class="avatar"><svg class="icon" viewBox="0 0 24 24"><path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"/></svg></div>
                    <div class="bubble">
                        <svg class="icon" style="animation: spin 1s infinite linear;" viewBox="0 0 24 24"><path d="M12 4V2C6.48 2 2 6.48 2 12h2c0-4.41 3.59-8 8-8zm0 14c-4.41 0-8-3.59-8-8H2c0 5.52 4.48 10 10 10v-2zm8-6h2c0-5.52-4.48-10-10-10v2c4.41 0 8 3.59 8 8zm-2 0c0 3.31-2.69 6-6 6v2c4.42 0 8-3.58 8-8h-2z"/></svg>
                        正在生成${mode === 'article' ? '图文' : '视频'}内容...
                    </div>
                </div>
            `;
            chat.scrollTop = chat.scrollHeight;

            // 模拟生成延迟
            setTimeout(() => {
                document.getElementById(loadingId).remove();
                
                let resultHtml = '';
                if(mode === 'article') {
                    resultHtml = `
                        <div class="result-card">
                            <div class="result-preview article">
                                <svg class="icon" style="width:48px;height:48px;opacity:0.5;" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
                            </div>
                            <div class="result-content">
                                <div style="font-weight:600; margin-bottom:4px;">${topic} - 深度解析</div>
                                <div style="font-size:12px; color:var(--text-secondary);">已生成 1500 字，包含 3 张配图。</div>
                                <div class="result-actions">
                                    <button onclick="publish(this)" style="background:var(--primary); color:#fff; border:none; padding:6px 12px; border-radius:12px; cursor:pointer;">发布</button>
                                    <button style="background:transparent; border:1px solid var(--outline); color:var(--text-primary); padding:6px 12px; border-radius:12px; cursor:pointer;">编辑</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    resultHtml = `
                        <div class="result-card">
                            <div class="result-preview">
                                <svg class="icon" style="width:48px;height:48px;" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>
                            </div>
                            <div class="result-content">
                                <div style="font-weight:600; margin-bottom:4px;">${topic} - 短视频</div>
                                <div style="font-size:12px; color:var(--text-secondary);">时长 00:45，数字人播报已就绪。</div>
                                <div class="result-actions">
                                    <button onclick="publish(this)" style="background:var(--primary); color:#fff; border:none; padding:6px 12px; border-radius:12px; cursor:pointer;">发布</button>
                                </div>
                            </div>
                        </div>
                    `;
                }

                chat.innerHTML += `
                    <div class="msg ai">
                        <div class="avatar"><svg class="icon" viewBox="0 0 24 24"><path d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z"/></svg></div>
                        <div style="width:100%">${resultHtml}</div>
                    </div>
                `;
                chat.scrollTop = chat.scrollHeight;
            }, 1500);
        }

        function publish(btn) {
            const originalText = btn.innerText;
            btn.innerText = "发布中...";
            btn.disabled = true;
            setTimeout(() => {
                btn.innerText = "已发布";
                btn.style.background = "#1E8E3E";
            }, 1000);
        }

        // --- 3. 认证 Agent 逻辑 ---
        function processAuth() {
            const btn = document.getElementById('authBtn');
            const icon = document.getElementById('authIcon');
            const title = document.getElementById('authTitle');
            
            btn.innerText = "正在OCR扫描证件...";
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerText = "正在核验...";
                setTimeout(() => {
                    icon.innerHTML = '<svg class="icon" style="width:32px;height:32px;" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>';
                    icon.classList.add('verified');
                    title.innerText = "已认证";
                    btn.style.display = 'none';
                }, 1500);
            }, 1500);
        }

        // --- 4. 客服 Agent 逻辑 ---
        function sendCs() {
            const input = document.getElementById('csInput');
            const val = input.value.trim();
            if(!val) return;
            
            const list = document.getElementById('csList');
            list.innerHTML += `<div class="cs-msg me">${val}</div>`;
            input.value = '';
            list.scrollTop = list.scrollHeight;
            
            setTimeout(() => {
                list.innerHTML += `<div class="cs-msg sys">收到，Agent正在为您查询...</div>`;
                list.scrollTop = list.scrollHeight;
            }, 1000);
        }
    </script>
</body>
</html>
